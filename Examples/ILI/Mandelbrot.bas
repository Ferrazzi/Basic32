10 REM ==== MANDELBROT 320X240 ====
20 ILI INIT 17 16 5 1
30 ILI LED 32 1
40 ILI SETBGCOLOR 0 0 0
50 ILI CLEAR
60 MAXIT = 30
70 REM ==== ROW LOOP ====
80 FOR PY = 0 TO 239
90 REM ==== COLUMN LOOP ====
100 FOR PX = 0 TO 319
110 REM ==== PIXEL-TO-COMPLEX-PLANE MAPPING ====
120 CR = -2.5 + (PX * 3.5) / 319
130 CI = -1.0 + (PY * 2.0) / 239
140 ZR = 0
150 ZI = 0
160 IT = 0
170 REM ==== ITERATIONS ====
180 FOR N = 0 TO MAXIT
190 ZR2 = ZR * ZR
200 ZI2 = ZI * ZI
210 IF ZR2 + ZI2 > 4 THEN IT = N : N = MAXIT
220 TMP = ZR2 - ZI2 + CR
230 ZI = 2 * ZR * ZI + CI
240 ZR = TMP
250 NEXT N
260 REM ==== SIMPLE COLOR ====
270 IF IT = 0 THEN COL = 0
280 IF IT > 0 THEN COL = (IT * 255) / MAXIT
290 REM ==== INSIDE THE SET: BLACK ====
300 IF IT = 0 THEN R = 0 : G = 0 : B = 0
310 IF IT > 0 THEN R = COL : G = COL : B = COL
320 ILI PIXEL PX PY R G B 0
330 NEXT PX
340 REM ==== END OF ROW: UPDATE DISPLAY ====
350 ILI DRAW
360 NEXT PY
370 PRINT "MANDELBROT COMPLETED"
380 END
