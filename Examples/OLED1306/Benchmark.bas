5 ITER = 4999
6 OKBTN = 5
10 REM --- INIT OLED SSD1306 ---
20 OLED INIT 128 64 3C
30 PINMODE OKBTN INPUT PULLUP DEBOUNCE 60
40 OLED CLEAR
50 REM --- SPLASH ---
60 OLED RECT 0 0 128 64 WHITE 0
70 OLED TEXT 18 10 2 "BASIC32" WHITE 0
80 OLED TEXT 10 30 1 "BENCHMARK OLED" WHITE 0
90 OLED TEXT 22 48 1 "ATTENDI..." WHITE 0
100 OLED DRAW
110 DELAY 1500
120 OLED CLEAR
200 REM --- PAGINA 1 (TEST 1..5) ---
210 OLED TEXT 0 0 1 "BENCH (1/2)" WHITE 0
220 IT$ = "ITER=" + STR$(ITER)
230 OLED TEXT 0 8 1 IT$ WHITE 0
240 OLED TEXT 0 16 1 "1 ARIT :" WHITE 0
250 OLED TEXT 0 24 1 "2 IF   :" WHITE 0
260 OLED TEXT 0 32 1 "3 STR  :" WHITE 0
270 OLED TEXT 0 40 1 "4 BIT  :" WHITE 0
280 OLED TEXT 0 48 1 "5 ARR  :" WHITE 0
290 OLED DRAW
300 REM --- TEST 1 ARIT ---
310 OLED TEXT 60 16 1 "RUN" WHITE 0 : OLED DRAW
320 T0 = TI
330 S1 = 0
340 FOR I = 1 TO ITER
350 S1 = S1 + I * 3 - 7
360 NEXT I
370 DT1 = TI - T0
380 OLED FILLRECT 60 16 68 8 BLACK 0
390 OLED TEXT 60 16 1 STR$(DT1)+"cs" WHITE 0
400 OLED DRAW
420 REM --- TEST 2 IF ---
430 OLED TEXT 60 24 1 "RUN" WHITE 0 : OLED DRAW
440 T1 = TI
450 S2 = 0
460 FOR J = 1 TO ITER
470 IF J MOD 2 = 0 THEN S2 = S2 + J ELSE S2 = S2 - J
480 NEXT J
490 DT2 = TI - T1
500 OLED FILLRECT 60 24 68 8 BLACK 0
510 OLED TEXT 60 24 1 STR$(DT2)+"cs" WHITE 0
520 OLED DRAW
540 REM --- TEST 3 STRINGHE ---
550 OLED TEXT 60 32 1 "RUN" WHITE 0 : OLED DRAW
560 T2 = TI
570 FOR K = 1 TO ITER
580 A$="ABC":B$="XYZ":C$=A$+B$
590 D=LEN(C$):E$=LEFT$(C$,2):F$=RIGHT$(C$,2)
600 NEXT K
610 DT3 = TI - T2
620 OLED FILLRECT 60 32 68 8 BLACK 0
630 OLED TEXT 60 32 1 STR$(DT3)+"cs" WHITE 0
640 OLED DRAW
660 REM --- TEST 4 BIT ---
670 OLED TEXT 60 40 1 "RUN" WHITE 0 : OLED DRAW
680 T3 = TI
690 S4 = 0
700 FOR X = 1 TO ITER
710 A=X AND 255:B=X OR 128:C=A XOR B
720 D=A*2:E=B\2:S4=S4+C+D+E
730 NEXT X
740 DT4 = TI - T3
750 OLED FILLRECT 60 40 68 8 BLACK 0
760 OLED TEXT 60 40 1 STR$(DT4)+"cs" WHITE 0
770 OLED DRAW
790 REM --- TEST 5 ARRAY ---
800 OLED TEXT 60 48 1 "RUN" WHITE 0 : OLED DRAW
810 DIM ARR(ITER)
820 FOR I = 1 TO ITER
830 ARR(I)=I*2
840 NEXT I
850 T4 = TI
860 S5 = 0
870 FOR I = 1 TO ITER
880 S5 = S5 + ARR(I)
890 NEXT I
900 DT5 = TI - T4
910 OLED FILLRECT 60 48 68 8 BLACK 0
920 OLED TEXT 60 48 1 STR$(DT5)+"cs" WHITE 0
930 OLED DRAW
940 DELAY 800
950 OLED CLEAR
1100 REM --- PAGINA 2 (TEST 6..10) ---
1110 OLED TEXT 0 0 1 "BENCH (2/2)" WHITE 0
1120 OLED TEXT 0 8 1 IT$ WHITE 0
1130 OLED TEXT 0 16 1 "6 GOSUB:" WHITE 0
1140 OLED TEXT 0 24 1 "7 MATH :" WHITE 0
1150 OLED TEXT 0 32 1 "8 RND  :" WHITE 0
1160 OLED TEXT 0 40 1 "9 LOOP :" WHITE 0
1170 OLED TEXT 0 48 1 "10 GFX :" WHITE 0
1180 OLED DRAW
1200 REM --- TEST 6 GOSUB ---
1210 OLED TEXT 60 16 1 "RUN" WHITE 0 : OLED DRAW
1220 T5 = TI
1230 S6 = 0
1240 FOR I = 1 TO ITER
1250 GOSUB 9000
1260 NEXT I
1270 DT6 = TI - T5
1280 OLED FILLRECT 60 16 68 8 BLACK 0
1290 OLED TEXT 60 16 1 STR$(DT6)+"cs" WHITE 0
1300 OLED DRAW
1320 REM --- TEST 7 MATH ---
1330 OLED TEXT 60 24 1 "RUN" WHITE 0 : OLED DRAW
1340 T6 = TI
1350 S7 = 0
1360 FOR I = 1 TO ITER
1370 S7=S7+SIN(I)+COS(I)+TAN(I/100)+SQR(I)
1380 NEXT I
1390 DT7 = TI - T6
1400 OLED FILLRECT 60 24 68 8 BLACK 0
1410 OLED TEXT 60 24 1 STR$(DT7)+"cs" WHITE 0
1420 OLED DRAW
1440 REM --- TEST 8 RANDOM ---
1450 OLED TEXT 60 32 1 "RUN" WHITE 0 : OLED DRAW
1460 T7 = TI
1470 S8 = 0
1480 FOR I = 1 TO ITER
1490 S8=S8+RND(32767)
1500 NEXT I
1510 DT8 = TI - T7
1520 OLED FILLRECT 60 32 68 8 BLACK 0
1530 OLED TEXT 60 32 1 STR$(DT8)+"cs" WHITE 0
1540 OLED DRAW
1560 REM --- TEST 9 LOOP ---
1570 OLED TEXT 60 40 1 "RUN" WHITE 0 : OLED DRAW
1580 T8 = TI
1590 FOR I = 1 TO ITER
1600 NEXT I
1610 DT9 = TI - T8
1620 OLED FILLRECT 60 40 68 8 BLACK 0
1630 OLED TEXT 60 40 1 STR$(DT9)+"cs" WHITE 0
1640 OLED DRAW
1660 REM --- TEST 10 GFX ---
1670 OLED CLEAR
1680 OLED TEXT 0 0 1 "TEST10 GFX" WHITE 0
1690 OLED DRAW
1700 T9 = TI
1710 X=0:Y=10:CFLAG=0
1720 FOR I = 1 TO ITER
1730 IF CFLAG=0 THEN OLED FILLRECT X Y 3 3 WHITE 0 ELSE OLED FILLRECT X Y 3 3 BLACK 0
1740 X=X+4
1750 IF X>124 THEN X=0 ELSE X=X
1760 IF X=0 THEN Y=Y+4 ELSE Y=Y
1770 IF Y>60 THEN Y=10 ELSE Y=Y
1780 IF Y=10 AND X=0 THEN CFLAG=1-CFLAG ELSE CFLAG=CFLAG
1790 IF I MOD 80=0 THEN OLED DRAW ELSE I=I
1800 NEXT I
1810 OLED DRAW
1820 DT10 = TI - T9
1830 GOSUB 7000
1840 END
7000 REM --- RISULTATI: BAR + TEMPI (2 PAGINE) ---
7010 P=1
7020 GOSUB 7200
7030 REM ATTESA TASTO PER CAMBIARE PAGINA
7040 IF DREAD(OKBTN)=1 THEN GOTO 7040
7050 DELAY 120
7060 IF DREAD(OKBTN)=0 THEN GOTO 7060
7070 IF P=1 THEN P=2 ELSE P=1
7080 GOSUB 7200
7090 GOTO 7040
7100 GOTO 7040
7110 IF DT9>MAXT THEN MAXT=DT9 ELSE MAXT=MAXT
7120 IF DT10>MAXT THEN MAXT=DT10 ELSE MAXT=MAXT
7130 SCALE=100/MAXT
7140 OLED TEXT 0 12 1 "1" WHITE 0 : OLED FILLRECT 12 12 DT1*SCALE 3 WHITE 0
7150 OLED TEXT 0 20 1 "2" WHITE 0 : OLED FILLRECT 12 20 DT2*SCALE 3 WHITE 0
7160 OLED TEXT 0 28 1 "3" WHITE 0 : OLED FILLRECT 12 28 DT3*SCALE 3 WHITE 0
7170 OLED TEXT 0 36 1 "4" WHITE 0 : OLED FILLRECT 12 36 DT4*SCALE 3 WHITE 0
7180 OLED TEXT 0 44 1 "5" WHITE 0 : OLED FILLRECT 12 44 DT5*SCALE 3 WHITE 0
7190 OLED DRAW
7200 REM --- DISEGNA PAGINA P (1:1..5 2:6..10) ---
7210 OLED CLEAR
7220 OLED TEXT 0 0 1 "RISULTATI" WHITE 0
7230 IF P=1 THEN OLED TEXT 74 0 1 "(1/2)" WHITE 0 ELSE OLED TEXT 74 0 1 "(2/2)" WHITE 0
7240 REM CALCOLA MAXT (SCALA COMUNE)
7250 MAXT=DT1
7260 IF DT2>MAXT THEN MAXT=DT2
7270 IF DT3>MAXT THEN MAXT=DT3
7280 IF DT4>MAXT THEN MAXT=DT4
7290 IF DT5>MAXT THEN MAXT=DT5
7300 IF DT6>MAXT THEN MAXT=DT6
7310 IF DT7>MAXT THEN MAXT=DT7
7320 IF DT8>MAXT THEN MAXT=DT8
7330 IF DT9>MAXT THEN MAXT=DT9
7340 IF DT10>MAXT THEN MAXT=DT10
7350 IF MAXT<1 THEN MAXT=1
7360 REM LAYOUT: BARRA MAX 60PX (X=14..73), TEMPO A DESTRA (X=78)
7370 IF P=1 THEN GOTO 7400 ELSE GOTO 7600
7380 IF P=1 THEN GOTO 7400 ELSE GOTO 7600
7400 REM --- PAGINA 1: 1..5 ---
7410 TNUM=1 : DT=DT1 : YR=12 : GOSUB 8100
7420 TNUM=2 : DT=DT2 : YR=22 : GOSUB 8100
7430 TNUM=3 : DT=DT3 : YR=32 : GOSUB 8100
7440 TNUM=4 : DT=DT4 : YR=42 : GOSUB 8100
7450 TNUM=5 : DT=DT5 : YR=52 : GOSUB 8100
7460 OLED DRAW
7470 RETURN
7600 REM --- PAGINA 2: 6..10 ---
7610 TNUM=6 : DT=DT6 : YR=12 : GOSUB 8100
7620 TNUM=7 : DT=DT7 : YR=22 : GOSUB 8100
7630 TNUM=8 : DT=DT8 : YR=32 : GOSUB 8100
7640 TNUM=9 : DT=DT9 : YR=42 : GOSUB 8100
7650 TNUM=10 : DT=DT10 : YR=52 : GOSUB 8100
7660 OLED DRAW
7670 RETURN
8000 REM (PLACEHOLDER - NON FA NULLA, SOLO PER MANTENERE STRUTTURA PULITA)
8010 RETURN
8100 REM --- DISEGNA RIGA: NUMERO + BARRA + TEMPO ---
8110 OLED TEXT 0 YR 1 STR$(TNUM) WHITE 0
8120 REM W = (DT * 60) / MAXT (TUTTO IN INTERI, NIENTE SCALE=0)
8130 W = (DT * 60) / MAXT
8140 IF W < 1 THEN W = 1
8150 IF W > 60 THEN W = 60
8160 OLED FILLRECT 14 YR+2 W 3 WHITE 0
8170 OLED TEXT 78 YR 1 STR$(DT) + "cs" WHITE 0
8180 RETURN
8190 OLED TEXT 78 Y 1 STR$(DT)+"cs" WHITE 0
8200 RETURN
9000 REM --- SUB TEST 6 ---
9010 S6=S6+1
9020 RETURN
