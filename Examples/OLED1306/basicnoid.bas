10 REM ===== BASICNOID OLED 128X64 =====
20 REM ===== BUTTONS =====
30 LBTN = 12
40 RBTN = 11
60 PINMODE LBTN INPUT PULLUP
70 PINMODE RBTN INPUT PULLUP
80 REM ===== INIT OLED =====
90 OLED INIT 128 64 3C
100 OLED CLEAR
110 REM ===== SPLASH TITLE BITMAP =====
120 TITLE$ = "00111111111111111111111111100111111111111111111111111100111111111111111111111111111001111111111111111111111111110011111111111100"
130 TITLE$ = TITLE$ + "00111111111111111111111111100111111111111111111111111100111111111111111111111111111001111111111111111111111111110011111111111100"
140 TITLE$ = TITLE$ + "00111111111111111111111111100111111111111111111111111100111111111111111111111111111001111111111111111111111111110011111111111100"
150 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
160 TITLE$ = TITLE$ + "00111111111111001111111111111111111111111001111111111111111111111111001111111111111111111111111110011111111111111111111111111100"
170 TITLE$ = TITLE$ + "00111111111111001111111111111111111111111001111111111111111111111111001111111111111111111111111110011111111111111111111111111100"
180 TITLE$ = TITLE$ + "00111111111111001111111111111111111111111001111111111111111111111111001111111111111111111111111110011111111111111111111111111100"
190 TITLE$ = TITLE$ + "00111111111111001111111111111111111111111001111111111111111111111111001111111111111111111111111110011111111111111111111111111100"
200 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
210 TITLE$ = TITLE$ + "00111111111111111111111111100111111111111111111111111100111111111111111111111111111001111111111111111111111111110011111111111100"
220 TITLE$ = TITLE$ + "00111111111111111111111111100111111111111111111111111100111111111111111111111111111001111111111111111111111111110011111111111100"
230 TITLE$ = TITLE$ + "00111111111111111111111111100111111111111111111111111100111111111111111111111111111001111111111111111111111111110011111111111100"
240 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
250 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
260 TITLE$ = TITLE$ + "00000011111111000000001111110000000011111110000001110000001111111100000111000011100000011111111000000111000011111111111000000000"
270 TITLE$ = TITLE$ + "00000011111111110000111111111100000111111111100001110000111111111111000111110011100001111111111110000111000011111111111100000000"
280 TITLE$ = TITLE$ + "00000011100001110000111000011110001111000011100001110000111000000111000111110011100001110000001110000111000011110000011111000000"
290 TITLE$ = TITLE$ + "00000011100001110000111000011110001111000000000001110000111000000000000111111111100001110000001110000111000011110000000111000000"
300 TITLE$ = TITLE$ + "00000011111111100000111000011110000111110000000001110000111000000000000111111111100001110000001110000111000011110000000111000000"
310 TITLE$ = TITLE$ + "00000011111111100000111000011110000001111110000001110000111000000000000111001111100001110000001110000111000011110000000111000000"
320 TITLE$ = TITLE$ + "00000011100001110000111111111110000000000111100001110000111000000000000111000111100001110000001110000111000011110000000111000000"
330 TITLE$ = TITLE$ + "00000011100001110000111000011110001110000011100001110000111000000111000111000011100001110000001110000111000011110000001111000000"
340 TITLE$ = TITLE$ + "00000011111111110000111000011110001111111111100001110000111111111111000111000011100001111111111110000111000011111111111110000000"
350 TITLE$ = TITLE$ + "00000011111111100000111000011110000011111110000001110000001111111110000111000011100000011111111100000111000011111111111000000000"
360 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
370 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
380 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
390 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
400 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
410 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
420 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
430 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000"
440 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000111100000000000000000000000000000000000000000000000000000000000000"
450 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000001111110000000000000000000000000000000000000000000000000000000000000"
460 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000001111110000000000000000000000000000000000000000000000000000000000000"
470 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000111100000000000000000000000000000000000000000000000000000000000000"
480 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000000"
490 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
500 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
510 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
520 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000110111111111111111111111111111111111101100000000000000000000000000000000000000000000"
530 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000001110111111111111111111111111111111111101110000000000000000000000000000000000000000000"
540 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000001110111111111111111111111111111111111101110000000000000000000000000000000000000000000"
550 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000110111111111111111111111111111111111101100000000000000000000000000000000000000000000"
560 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
570 TITLE$ = TITLE$ + "00000000000000000000000000000000000000000000000111111111111111111111111111111111100000000000000000000000000000000000000000000000"
580 REM ===== GAME OVER BITMAP =====
640 GO$ = "00000000000000000111111110001111110000111000001111001111111100000000011111100001110001110001111111100111111110000000000000000000"
650 GO$ = GO$ + "00000000000000011111111110001111110000111100001111001111111100000001111111110001110001110001111111100111111111100000000000000000"
660 GO$ = GO$ + "00000000000000011110000000011111111100111100011111001111000000000001111001111001110001110001110000000111100111100000000000000000"
670 GO$ = GO$ + "00000000000000011110000000011100011100111110011111001111000000000001111000111001110001110001110000000111100011100000000000000000"
680 GO$ = GO$ + "00000000000000011110000000011100011100111110111111001111000000000001111000111001110001110001110000000111100011100000000000000000"
690 GO$ = GO$ + "00000000000000011110111110011100011100111111111111001111111000000001111001111001110001110001111110000111100111100000000000000000"
700 GO$ = GO$ + "00000000000000011110011110011100111100111111111111001111111000000001111001111001110001110001111110000111111111100000000000000000"
710 GO$ = GO$ + "00000000000000011110001110011111111100110011101111001111000000000001111001111001110001110001110000000111111100000000000000000000"
720 GO$ = GO$ + "00000000000000011110001110011111111100110001001111001111000000000001111001111001111111110001110000000111101110000000000000000000"
730 GO$ = GO$ + "00000000000000011110001110011100011100110000001111001111000000000001111000111000111111110001110000000111101111000000000000000000"
740 GO$ = GO$ + "00000000000000011111111110011100011100110000001111001111111100000001111111111000011111100001111111100111100111100000000000000000"
750 GO$ = GO$ + "00000000000000000111111110011100011100110000001111001111111100000000011111100000001110000001111111100111100011100000000000000000"
760 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
770 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
780 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
790 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
800 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000000000000001100000000000000000000000000000000000000000000000000"
810 GO$ = GO$ + "00000000000000000000000000000000000000000000000010000000000000000000000000001000000000000000000000000000000000000000000000000000"
820 GO$ = GO$ + "00000000000000000000000000000000000000000000000000100000000000000000100000010000000000000000000000000000000000000000000000000000"
830 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000001100000000000000000000000000000000000000000000000000000000000"
840 GO$ = GO$ + "00000000000000000000000000000000000000000000000000001000011000000001100001000000000000000000000000000000000000000000000000000000"
850 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000001100000011000000000000000001100000000000000000000000000000000000000000"
860 GO$ = GO$ + "00000000000000000000000000000000000000000000010000000000000110000000000000000000011011100000000000000000000000000000000000000000"
870 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000010000000000000000011111001100000000000000000000000000000000000000000"
880 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000000000000111111111001110000000000000000000000000000000000000000"
890 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000111100000000000000111111111111101110000000000000000000000000000000000000000"
900 GO$ = GO$ + "00000000000000000000000000000000000000000000000001111111100000100000111111111111111100100000000000000000000000000000000000000000"
910 GO$ = GO$ + "00000000000000000000000000000000000000000000111111111111110000000011111111111111111100000000000000000000000000000000000000000000"
920 GO$ = GO$ + "00000000000000000000000000000000000000011001111111111111110000000001111111111111100001011000000000000000000000000000000000000000"
930 GO$ = GO$ + "00000000000000000000000000000000000000011001111111111111111110000001011111111100001111000000000000000000000000000000000000000000"
940 GO$ = GO$ + "00000000000000000000000000000000000000011001111111111111111000000000001111000001111000000000000000000000000000000000000000000000"
950 GO$ = GO$ + "00000000000000000000000000000000000000011101111111110000000000000000001000011110000000000000000000000000000000000000000000000000"
960 GO$ = GO$ + "00000000000000000000000000000000000000001100111100000011100000000100000011110000000000000000000000000000000000000000000000000000"
970 GO$ = GO$ + "00000000000000000000000000000000000000001100000001111110000000000000001110000000000000000000000000000000000000000000000000000000"
980 GO$ = GO$ + "00000000000000000000000000000000000000000000011111000000000000000000000000000000000000000000000000000000000000000000000000000000"
990 GO$ = GO$ + "00000000000000000000000000000000000000000110110000000000100000000000000000000000000000000000000000000000000000000000000000000000"
1000 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
1010 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000111000000000000000000000000000000000000000000000000000000000000000"
1020 GO$ = GO$ + "00000000000000000000000000000000000000000000000000001000000001111100000000001000000000000000000000000000000000000000000000000000"
1030 GO$ = GO$ + "00000000000000000000000000000000000000000000000000011000100011111110000100000000000000000000000000000000000000000000000000000000"
1040 GO$ = GO$ + "00000000000000000000000000000000000000000000000000110001100011111110000110000000000000000000000000000000000000000000000000000000"
1050 GO$ = GO$ + "00000000000000000000000000000000000000000000000000100001000001111100000011000000000000000000000000000000000000000000000000000000"
1060 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000111000000000000000000000000000000000000000000000000000000000000000"
1070 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
1080 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
1090 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
1100 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
1110 GO$ = GO$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
1120 GO$ = GO$ + "00000000000000000000000000000000000011111001110011001100000111000111001110011110110110011000000000000000000000000000000000000000"
1130 GO$ = GO$ + "00000000000000000000000000000000000011111011111011001100001111101111011111001100110110111100000000000000000000000000000000000000"
1140 GO$ = GO$ + "00000000000000000000000000000000000000110011001011001000001101101000011011001100111110000110000000000000000000000000000000000000"
1150 GO$ = GO$ + "00000000000000000000000000000000000000110011111001110000001111101011011011001100111110011100000000000000000000000000000000000000"
1160 GO$ = GO$ + "00000000000000000000000000000000000000110011110000110000001111101001011111001100101110010000000000000000000000000000000000000000"
1170 GO$ = GO$ + "00000000000000000000000000000000000000110011001000110000001101101111011011011110100110010000000000000000000000000000000000000000"
1230 REM ===== YOU WIN BITMAP =====
1270 WN$ = "00000000000000000000000000000000000000111111000011100011100000011100000001110001110001110000000001111000000000000000000000000000"
1280 WN$ = WN$ + "00000000000000000000000011110001110001111111000011100011100000011110000011110011110011111000111001111000000000000001000000000000"
1290 WN$ = WN$ + "00000000000000000000000011110001110011110111110011100011100000011110000011110011110011111100111001111000000000000000000000000000"
1300 WN$ = WN$ + "00000000000010000000000011110001110011110011110011100011100000011110000011110011110011111100111001111000000000000100000000000000"
1310 WN$ = WN$ + "00000000000111000000000011111011110011110011110011100011100000011110111011110011110011111110111001111000000000001110000000000000"
1320 WN$ = WN$ + "00000000001111100000000000111011100011110011110011100011100000011110111011110011110011111110111001111000000010011111000000000000"
1330 WN$ = WN$ + "00000000000111000000000000011111000011110011110011100011100000011110111011110011110011101111111001111000000010001110000000000000"
1340 WN$ = WN$ + "00000000000010000000000000011110000011110011110011100011100000011111111111110011110011101111111001111000000000000100000000000000"
1350 WN$ = WN$ + "00000000000000000000000000011110000011110011110011100011100000011111111111110011110011100111111000000000000000000000000001000000"
1360 WN$ = WN$ + "00000000000000000000000000011110000011110011110011100011100000011111000111110011110011100011111000000000000000000000000001000000"
1370 WN$ = WN$ + "00000000000000000000000000011110000011110011110011111111100000011111000111110011110011100011111001111000000000000000000000000000"
1380 WN$ = WN$ + "00000000000000000000000000011110000001111111000001111111000000011110000011110011110011100001111001111000000000000000000000000000"
1390 WN$ = WN$ + "00000000000000000000000000001100000000111111000000111110000000011100000001110001100001000000111000110000000000000000000000000000"
1400 WN$ = WN$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000"
1410 WN$ = WN$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
1420 WN$ = WN$ + "00000000000000000000000000000000000000000000000000000000111100000000011100000000000000000000000000000000000000000000000000000000"
1430 WN$ = WN$ + "00000000000000000001000000000000000000000000000000000000111100000000111100000000000000000000000000000000000001000000000000000000"
1440 WN$ = WN$ + "00000000000000000011100000000000000000000000000000000000000000000000000000000000000000000000000000000000000011100000000000000000"
1450 WN$ = WN$ + "00000000000000000011100000000000000000000000000000000000000000000000000010000000010000000000000000000000000011100000000000000000"
1460 WN$ = WN$ + "00000000000000000001000000000000000000000000000000000011111111111111111111000000000000000000000000000000000001000000000000000000"
1470 WN$ = WN$ + "00000000000000000000000000000000000001000000000000000011100111111111110001000000000000000010000000000000000000000000000000000000"
1480 WN$ = WN$ + "00000000000000000000000000000000000001110000000011111010000111110111100001011111100000000110000000000000000000000000000000000000"
1490 WN$ = WN$ + "00000000000000000000000000000000000000111100000011100010011111111111101101000111100000111110000000000000000000000000001100000000"
1500 WN$ = WN$ + "00000000000000000000000000000000000000111111000011000010011111111111111101000011100001111100000000000000000000000000000000000000"
1510 WN$ = WN$ + "00000010000000100000000000000000000000001111100010000010011111111111111001000001100011110000000000001000000000001000000000000000"
1520 WN$ = WN$ + "00000000000000000000000100000000000000000001100010000011111111111111111001000001100111000000000000000000000000000000000000000000"
1530 WN$ = WN$ + "00000000000000000000000000000000000000000000000011000011111111111111111001100011100000000000000000000000000000000000000000000000"
1540 WN$ = WN$ + "00000000000000000000000000000000000000000000000011100011111111111111111001000111000000000000000000000000000000000000000000000000"
1550 WN$ = WN$ + "00000000000000000000000000000000000000000000000001100011111111111111111001000110000000000000000000000000000000000000000000000000"
1560 WN$ = WN$ + "00000000000000000000000000000100111111110000000001111001111111111111110011011110000000001111111100000000000000000000000000000000"
1570 WN$ = WN$ + "00000000000000000000000000000000111111111111110000111001111111111111100010011100001111111111111100000000000000000000000000000000"
1580 WN$ = WN$ + "00000000000000000000000000010000011111111111111000001111111111111110000111111000011111111111111000000000000000000000000000000000"
1590 WN$ = WN$ + "00000000000000000000000000000000001111111111111000001111111111111000001111110000011111111111110000000000000000000000000000000000"
1600 WN$ = WN$ + "00000000000000000000000000000000000000000000000000000000011110110000011000000000000000000000000000000000000000000000010000000000"
1610 WN$ = WN$ + "00000000000000000000000000000000000000000000000000000000001111110001110000000000000000000000000000000000000000000000000000000000"
1620 WN$ = WN$ + "00000000000000000000000000000000000000000000000001110000000011100001000000001110000000000000000000000000000000000000000000000000"
1630 WN$ = WN$ + "00000000000000000000000000000000000000000000001111111000000000000000000000001111110000000000000000000000000000000000000000000000"
1640 WN$ = WN$ + "00000000000000000000000000000000000000000001111111100000000000110010000000000111111110000000000000000000000000000000000000000000"
1650 WN$ = WN$ + "00000000000001000000000000000000000000001111111110000000000000111010000000000001111111110000000000000000000000001000000000000000"
1660 WN$ = WN$ + "00000000000011100000000000000000000000111111111000000000000000111010000000000000001111111000000000000000000000011100000000000000"
1670 WN$ = WN$ + "00000000000111110000000000000000000000111111100000000000000000110010000000000000000111111000000000000000000000011100000000000000"
1680 WN$ = WN$ + "00000000000011100000001100000000000000111110000000000000000011110001000000001000000000011000000000000000110000011100000000000000"
1690 WN$ = WN$ + "00000000000001000000000100000000000000110000000000110000000011111101000000001100000000000000000000000000010000001000000000000000"
1700 WN$ = WN$ + "00000000000000000000000000000000000000000000000001000000001111111111011000000000000000000000000000000000000000000000000000000000"
1710 WN$ = WN$ + "00000001000000000000000000000000000000000000000000000000111100111100011100000000000000000000000000000000000000000000001100000000"
1720 WN$ = WN$ + "00000000000000000000000000000000000000000000000000000000100001111100000100000000000000000000000000000000000000000000000000000000"
1730 WN$ = WN$ + "00000000000000000000000000000000000000000000000000000000111111111111000100000000000000000000000000000000000000000000000000000000"
1740 WN$ = WN$ + "00000000000000000000000000000000000000000000000000000000011111111111111100000000000000000000000000000000000000000000000000000000"
1750 WN$ = WN$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
1760 WN$ = WN$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
1770 WN$ = WN$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
1780 WN$ = WN$ + "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
1790 WN$ = WN$ + "00000000000000000000111101111001101101111011111011111011111011011011000111110111110111101111001101101111101100000000000000100000"
1800 WN$ = WN$ + "00000000011000000001100001001101101101000011001011001000110011011011000110010001100011001101101101101100001100000000110000000000"
1810 WN$ = WN$ + "00000000011000000001100001001101111101011011111011001000110011011011000110010001100011001101101111100110001100000000110000000000"
1820 WN$ = WN$ + "00000000000000000001100001001101111101001011110011111000110011011011000111110001100011001101101111100001100000000000000000000000"
1830 WN$ = WN$ + "00000000000000000001111101101101011101111011011011001000110011111011110110010001100011001101101001101101101100000000000000000000"
1840 WN$ = WN$ + "00000000000000000000111100111001001101111011001011001000110001110001110110010001100111100111001001100111001100000000000000000000"
1885 OLED CLEAR
1890 REM ===== SHOW TITLE SPLASH =====
1900 OLED SPRITE NEW 0 BITMAP 0 0 128 64 TITLE$ 1
1910 OLED SPRITE SHOW 0
1920 OLED SPRITE DRAW 0
1930 TXT$ = "PRESS ONE BUTTON"
1940 SIZE = 1
1950 X = (128 - LEN(TXT$) * 6 * SIZE) / 2
1960 Y = 55
1970 WW = LEN(TXT$) * 6 * SIZE
1980 HH = 8 * SIZE
1990 TIMERSPLASH = 0
2000 LB = DLEVEL(LBTN)
2010 RB = DLEVEL(RBTN)
2020 TIMERSPLASH = TIMERSPLASH + 1
2030 IF TIMERSPLASH > 40 THEN TIMERSPLASH = 0
2040 IF TIMERSPLASH < 20 THEN OLED TEXT X Y SIZE TXT$ WHITE
2050 IF TIMERSPLASH > 20 THEN OLED FILLRECT X Y WW HH BLACK
2060 IF LB <> 0 AND RB <> 0 THEN GOTO 2000
2070 REM ===== START GAME =====
2080 OLED SPRITE CLEAR
2090 OLED CLEAR
3000 REM ===== GAME SETUP =====
3010 W = 128
3020 H = 64
3030 REM ===== HUD =====
3040 HUDH = 10
3050 OLED SPRITE NEW 90 TEXT 0 0 1 "S:"
3060 OLED SPRITE NEW 91 NUM 18 0 0 1
3070 OLED SPRITE NEW 92 TEXT 78 0 1 "V:"
3080 OLED SPRITE NEW 93 NUM 96 0 0 1
3090 OLED SPRITE NEW 94 LINE 0 (HUDH-1) 127 0
3100 OLED SPRITE SHOW 90
3110 OLED SPRITE SHOW 91
3120 OLED SPRITE SHOW 92
3130 OLED SPRITE SHOW 93
3140 OLED SPRITE SHOW 94
3150 REM ===== PADDLE =====
3160 PADW = 20
3170 PADH = 3
3180 PADX = (W - PADW) / 2
3190 PADY = 56
3200 PADSPD = 3
3210 BALLSPD = 1
3220 OLED SPRITE NEW 1 RECT PADX PADY PADW PADH
3230 REM ===== BALL =====
3240 BR = 2
3250 BX = 64
3260 BY = 40
3270 OLED SPRITE NEW 2 CIRCLE BX BY BR
3280 DX = 2
3290 DY = -2
3300 REM ===== PHYSICS =====
3310 MAXDX = 3
3320 MINDY = 1
3330 REM ===== BRICKS =====
3340 COLS = 10
3350 ROWS = 4
3360 BW = 11
3370 BH = 4
3380 SPX = 2
3390 SPY = 2
3400 SX = 0
3410 SY = HUDH + 2
3420 CELLW = BW + SPX
3430 CELLH = BH + SPY
3440 TOTCELLS = COLS * ROWS
3450 DIM ALIVE(TOTCELLS)
3460 DIM BRID(TOTCELLS)
3470 REM ===== LEVELS =====
3480 LEVEL = 1
3490 MAXLEVEL = 2
3500 DIM L1$(ROWS)
3510 DIM L2$(ROWS)
3520 L1$(0) = "1111111111"
3530 L1$(1) = "1111111111"
3540 L1$(2) = "1111111111"
3550 L1$(3) = "0000000000"
3560 L2$(0) = "1111111111"
3570 L2$(1) = "1000000001"
3580 L2$(2) = "1000000001"
3590 L2$(3) = "1111111111"
3600 LIVES = 3
3610 SCORE = 0
3620 GOSUB 8600
3630 GAME = 1
3640 GOSUB 8000
3650 OLED SPRITE SHOW 1
3660 OLED SPRITE SHOW 2
4000 REM ===== LOOP =====
4010 IF GAME = 0 THEN GOTO 9990
4020 LB = DLEVEL(LBTN)
4030 RB = DLEVEL(RBTN)
4040 IF LB = 0 THEN PADX = PADX - PADSPD
4050 IF RB = 0 THEN PADX = PADX + PADSPD
4060 IF PADX < 0 THEN PADX = 0
4070 IF PADX > (W - PADW) THEN PADX = W - PADW
4080 OLED SPRITE MOVE 1 PADX PADY
4090 FOR S = 1 TO BALLSPD
4100 BX = BX + DX
4110 BY = BY + DY
4120 IF BX <= BR THEN DX = ABS(DX)
4130 IF BX >= (W - BR) THEN DX = -ABS(DX)
4140 IF BY <= (BR + HUDH) THEN DY = ABS(DY)
4150 REM --- PADDLE ---
4160 IF BY < (PADY - BR) THEN GOTO 4300
4170 IF BX < PADX THEN GOTO 4300
4180 IF BX > (PADX + PADW) THEN GOTO 4300
4190 BY = PADY - BR - 1
4200 DY = -ABS(DY)
4210 OFF = BX - (PADX + PADW/2)
4220 DX = INT((OFF * MAXDX) / (PADW/2))
4230 IF DX > MAXDX THEN DX = MAXDX
4240 IF DX < -MAXDX THEN DX = -MAXDX
4250 IF ABS(DY) < MINDY THEN DY = -MINDY
4260 IF DX = 0 THEN DX = 1
4300 REM --- MATTONI ---
4310 CX = INT((BX - SX) / CELLW)
4320 RY = INT((BY - SY) / CELLH)
4330 IF CX < 0 THEN GOTO 4600
4340 IF CX >= COLS THEN GOTO 4600
4350 IF RY < 0 THEN GOTO 4600
4360 IF RY >= ROWS THEN GOTO 4600
4370 I = RY * COLS + CX
4380 IF ALIVE(I) = 0 THEN GOTO 4600
4390 XX = SX + CX * CELLW
4400 YY = SY + RY * CELLH
4410 IF BX + BR < XX THEN GOTO 4600
4420 IF BX - BR > XX + BW THEN GOTO 4600
4430 IF BY + BR < YY THEN GOTO 4600
4440 IF BY - BR > YY + BH THEN GOTO 4600
4450 ALIVE(I) = 0
4460 BRICKSLEFT = BRICKSLEFT - 1
4470 SCORE = SCORE + 10
4480 OLED SPRITE DELETE BRID(I)
4490 GOSUB 8600
4500 P1 = (XX + BW) - (BX - BR)
4510 P2 = (BX + BR) - XX
4520 P3 = (YY + BH) - (BY - BR)
4530 P4 = (BY + BR) - YY
4540 PXX = P1
4550 IF P2 < PXX THEN PXX = P2
4560 PYY = P3
4570 IF P4 < PYY THEN PYY = P4
4580 IF PXX < PYY THEN DX = -DX : GOTO 4595
4590 DY = -DY
4592 DX = DX + INT((BX - (XX + BW/2)) / 4)
4595 IF DX > MAXDX THEN DX = MAXDX
4596 IF DX < -MAXDX THEN DX = -MAXDX
4597 IF ABS(DY) < MINDY THEN DY = SGN(DY) * MINDY
4598 IF DX = 0 THEN DX = 1
4600 NEXT S
4700 REM ===== LOST LIFE =====
4710 IF BY <= H THEN GOTO 4800
4720 LIVES = LIVES - 1
4730 GOSUB 8600
4740 IF LIVES <= 0 THEN GOTO 9500
4750 BX = 64 : BY = 40 : DX = 2 : DY = -2
4800 REM --- CHANGE LEVEL ---
4810 IF BRICKSLEFT > 0 THEN GOTO 4900
4820 LEVEL = LEVEL + 1
4830 IF LEVEL > MAXLEVEL THEN GOTO 9600
4840 GOSUB 8000
4900 REM ===== DRAWING =====
4910 OLED SPRITE MOVE 2 BX BY
4920 OLED SPRITE DRAW
4930 DELAY 16
4940 GOTO 4000
8000 REM ===== LOAD LEVEL =====
8010 FOR I = 0 TO TOTCELLS-1
8020 IF BRID(I) > 0 THEN OLED SPRITE DELETE BRID(I)
8030 ALIVE(I) = 0
8040 BRID(I) = 0
8050 NEXT I
8060 PADX = (W - PADW) / 2
8070 OLED SPRITE MOVE 1 PADX PADY
8080 BX = 64 : BY = 40 : DX = 2 : DY = -2
8090 OLED SPRITE MOVE 2 BX BY
8100 SID = 3
8110 BRICKSLEFT = 0
8120 FOR RY = 0 TO ROWS-1
8130 IF LEVEL = 1 THEN ROW$ = L1$(RY)
8140 IF LEVEL = 2 THEN ROW$ = L2$(RY)
8150 FOR CX = 0 TO COLS-1
8160 IF MID$(ROW$, CX+1, 1) <> "1" THEN GOTO 8200
8170 I = RY * COLS + CX
8180 OLED SPRITE NEW SID RECT SX+CX*CELLW SY+RY*CELLH BW BH
8185 OLED SPRITE SHOW SID
8190 ALIVE(I) = 1
8191 BRID(I) = SID
8192 SID = SID + 1
8193 BRICKSLEFT = BRICKSLEFT + 1
8200 NEXT CX
8210 NEXT RY
8220 GOSUB 8600
8230 OLED SPRITE SHOW 1
8240 OLED SPRITE SHOW 2
8250 OLED SPRITE DRAW
8260 DELAY 2000
8270 RETURN
8600 REM ===== HUD UPDATE =====
8610 OLED SPRITE SETNUM 91 SCORE
8620 OLED SPRITE SETNUM 93 LIVES
8630 RETURN
9500 REM ===== GAME OVER =====
9510 OLED SPRITE CLEAR
9520 OLED CLEAR
9530 OLED SPRITE NEW 7 BITMAP 4 0 128 64 GO$ 1
9540 OLED SPRITE SHOW 7
9550 OLED SPRITE DRAW 7
9560 DELAY 4000
9570 GOTO 1885
9600 REM ===== YOU WIN =====
9610 OLED SPRITE CLEAR
9620 OLED CLEAR
9630 OLED SPRITE NEW 8 BITMAP 2 0 128 64 WN$ 1
9640 OLED SPRITE SHOW 8
9650 OLED SPRITE DRAW 8
9660 DELAY 4000
9670 GOTO 1885
9990 END
