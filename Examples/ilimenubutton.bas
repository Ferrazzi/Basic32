10 REM INIT
20 ILI INIT 17 16 5 3
30 ILI LED 32 1
40 PINMODE 12 INPUT PULLUP DEBOUNCE 60
50 PINMODE 13 INPUT PULLUP DEBOUNCE 60
60 PINMODE 14 INPUT PULLUP DEBOUNCE 60
70 REM SPRITES MENU PRINCIPALE
80 ILI SPRITE CLEAR
90 ILI SPRITE NEW 0 RECT 0 0 320 240 0 0 80
100 ILI SPRITE SHOW 0
110 ILI SPRITE NEW 1 FRAME 10 10 300 220 255 255 255
120 ILI SPRITE SHOW 1
130 ILI SPRITE NEW 2 RECT 30 60 260 24 0 128 255
140 ILI SPRITE SHOW 2
150 ILI SPRITE DRAW
160 ILI TEXT 40 30 2 "MENU PRINCIPALE" 255 255 0
170 ILI TEXT 40 64 2 "1. INIZIA" 255 255 255
180 ILI TEXT 40 100 2 "2. IMPOSTAZIONI" 255 255 255
190 ILI TEXT 40 136 2 "3. ESCI" 255 255 255
200 REM STATI
210 SEL=0
220 OLDSEL=-1
230 REM LOOP
240 U=DREAD(12)
250 D=DREAD(13)
260 E=DREAD(14)
270 IF U=0 THEN SEL=SEL-1
280 IF D=0 THEN SEL=SEL+1
290 IF SEL<0 THEN SEL=2
300 IF SEL>2 THEN SEL=0
310 IF SEL<>OLDSEL THEN Y=60+SEL*36
320 IF SEL<>OLDSEL THEN ILI SPRITE MOVE 2 30 Y
330 IF SEL<>OLDSEL THEN ILI SPRITE DRAW
340 IF SEL<>OLDSEL THEN ILI TEXT 40 30 2 "MENU PRINCIPALE" 255 255 0
350 IF SEL<>OLDSEL THEN ILI TEXT 40 64 2 "1. INIZIA" 255 255 255
360 IF SEL<>OLDSEL THEN ILI TEXT 40 100 2 "2. IMPOSTAZIONI" 255 255 255
370 IF SEL<>OLDSEL THEN ILI TEXT 40 136 2 "3. ESCI" 255 255 255
380 IF SEL<>OLDSEL THEN OLDSEL=SEL
390 IF E=0 AND SEL=0 THEN GOTO 900
400 IF E=0 AND SEL=1 THEN GOTO 1000
410 IF E=0 AND SEL=2 THEN GOTO 1400
420 DELAY 10
430 GOTO 240
900 REM AZIONE INIZIA
910 ILI CLEAR
920 ILI TEXT 20 20 3 "INIZIA!" 0 255 0
930 END
1000 REM SPRITES MENU IMPOSTAZIONI
1010 ILI SPRITE CLEAR
1020 ILI SPRITE NEW 0 RECT 0 0 320 240 0 0 80
1030 ILI SPRITE SHOW 0
1040 ILI SPRITE NEW 1 FRAME 10 10 300 220 255 255 255
1050 ILI SPRITE SHOW 1
1060 ILI SPRITE NEW 2 RECT 30 60 260 24 0 128 255
1070 ILI SPRITE SHOW 2
1080 ILI SPRITE DRAW
1090 ILI TEXT 40 30 2 "IMPOSTAZIONI" 255 255 0
1100 ILI TEXT 40 64 2 "1. VOLUME" 255 255 255
1110 ILI TEXT 40 100 2 "2. CONTRASTO" 255 255 255
1120 ILI TEXT 40 136 2 "3. INDIETRO" 255 255 255
1130 REM STATI
1140 SEL=0
1150 OLDSEL=-1
1160 REM LOOP
1170 U=DREAD(12)
1180 D=DREAD(13)
1190 E=DREAD(14)
1200 IF U=0 THEN SEL=SEL-1
1210 IF D=0 THEN SEL=SEL+1
1220 IF SEL<0 THEN SEL=2
1230 IF SEL>2 THEN SEL=0
1240 IF SEL<>OLDSEL THEN Y=60+SEL*36
1250 IF SEL<>OLDSEL THEN ILI SPRITE MOVE 2 30 Y
1260 IF SEL<>OLDSEL THEN ILI SPRITE DRAW
1270 IF SEL<>OLDSEL THEN ILI TEXT 40 30 2 "IMPOSTAZIONI" 255 255 0
1280 IF SEL<>OLDSEL THEN ILI TEXT 40 64 2 "1. VOLUME" 255 255 255
1290 IF SEL<>OLDSEL THEN ILI TEXT 40 100 2 "2. CONTRASTO" 255 255 255
1300 IF SEL<>OLDSEL THEN ILI TEXT 40 136 2 "3. INDIETRO" 255 255 255
1310 IF SEL<>OLDSEL THEN OLDSEL=SEL
1320 IF E=0 AND SEL=2 THEN GOTO 70
1330 DELAY 10
1340 GOTO 1160
1400 REM AZIONE ESCI
1410 ILI CLEAR
1420 ILI TEXT 20 20 3 "ARRIVEDERCI" 255 0 0
1430 END
